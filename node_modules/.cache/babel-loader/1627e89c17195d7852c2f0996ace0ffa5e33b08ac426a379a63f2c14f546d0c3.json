{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,LineElement,PointElement,ArcElement,Title,Tooltip,Legend}from'chart.js';import{Bar,Line,Pie,Doughnut,PolarArea,Radar,Scatter,Bubble}from'react-chartjs-2';import{Box,Paper,Typography}from'@mui/material';import'chartjs-adapter-date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,ArcElement,Title,Tooltip,Legend);function ChartDisplay(_ref){let{data,chartType,chartTitle,xAxisLabel,yAxisLabel,chartColor}=_ref;const chartRef=useRef(null);const chartInstance=useRef(null);useEffect(()=>{if(chartRef.current&&data.length>0){if(chartInstance.current){chartInstance.current.destroy();}const ctx=chartRef.current.getContext('2d');const chartData={labels:data.map(item=>item.x),datasets:[{label:yAxisLabel,data:data.map(item=>item.y),backgroundColor:chartColor,borderColor:chartColor,borderWidth:1}]};const options={responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:chartTitle}},scales:{x:{title:{display:true,text:xAxisLabel},type:xAxisLabel==='Ημερομηνία'?'time':'category',time:{unit:'day'}},y:{title:{display:true,text:yAxisLabel},beginAtZero:true}}};chartInstance.current=new Chart(ctx,{type:chartType,data:chartData,options:options});}return()=>{if(chartInstance.current){chartInstance.current.destroy();}};},[data,chartType,chartTitle,xAxisLabel,yAxisLabel,chartColor]);const renderChart=()=>{switch(chartType){case'bar':return/*#__PURE__*/_jsx(Bar,{data:data,options:{}});case'line':return/*#__PURE__*/_jsx(Line,{data:data,options:{}});case'pie':return/*#__PURE__*/_jsx(Pie,{data:data,options:{}});case'doughnut':return/*#__PURE__*/_jsx(Doughnut,{data:data,options:{}});case'polarArea':return/*#__PURE__*/_jsx(PolarArea,{data:data,options:{}});case'radar':return/*#__PURE__*/_jsx(Radar,{data:data,options:{}});case'scatter':return/*#__PURE__*/_jsx(Scatter,{data:data,options:{}});case'bubble':return/*#__PURE__*/_jsx(Bubble,{data:data,options:{}});default:return/*#__PURE__*/_jsx(Bar,{data:data,options:{}});}};return/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u03A0\\u03C1\\u03BF\\u03B5\\u03C0\\u03B9\\u03C3\\u03BA\\u03CC\\u03C0\\u03B7\\u03C3\\u03B7 \\u0393\\u03C1\\u03B1\\u03C6\\u03AE\\u03BC\\u03B1\\u03C4\\u03BF\\u03C2\"}),/*#__PURE__*/_jsx(Box,{sx:{height:400},children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef})})]});}export default ChartDisplay;","map":{"version":3,"names":["React","useEffect","useRef","Chart","ChartJS","CategoryScale","LinearScale","BarElement","LineElement","PointElement","ArcElement","Title","Tooltip","Legend","Bar","Line","Pie","Doughnut","PolarArea","Radar","Scatter","Bubble","Box","Paper","Typography","jsx","_jsx","jsxs","_jsxs","register","ChartDisplay","_ref","data","chartType","chartTitle","xAxisLabel","yAxisLabel","chartColor","chartRef","chartInstance","current","length","destroy","ctx","getContext","chartData","labels","map","item","x","datasets","label","y","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","plugins","title","display","text","scales","type","time","unit","beginAtZero","renderChart","sx","p","mb","children","variant","gutterBottom","height","ref"],"sources":["/Users/dotrem/data-configurator/chartrem/src/components/ChartDisplay.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Bar, Line, Pie, Doughnut, PolarArea, Radar, Scatter, Bubble } from 'react-chartjs-2';\nimport { Box, Paper, Typography } from '@mui/material';\nimport 'chartjs-adapter-date-fns';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction ChartDisplay({ data, chartType, chartTitle, xAxisLabel, yAxisLabel, chartColor }) {\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n\n  useEffect(() => {\n    if (chartRef.current && data.length > 0) {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n\n      const ctx = chartRef.current.getContext('2d');\n      \n      const chartData = {\n        labels: data.map(item => item.x),\n        datasets: [{\n          label: yAxisLabel,\n          data: data.map(item => item.y),\n          backgroundColor: chartColor,\n          borderColor: chartColor,\n          borderWidth: 1\n        }]\n      };\n\n      const options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          title: {\n            display: true,\n            text: chartTitle\n          }\n        },\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: xAxisLabel\n            },\n            type: xAxisLabel === 'Ημερομηνία' ? 'time' : 'category',\n            time: {\n              unit: 'day'\n            }\n          },\n          y: {\n            title: {\n              display: true,\n              text: yAxisLabel\n            },\n            beginAtZero: true\n          }\n        }\n      };\n\n      chartInstance.current = new Chart(ctx, {\n        type: chartType,\n        data: chartData,\n        options: options\n      });\n    }\n\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data, chartType, chartTitle, xAxisLabel, yAxisLabel, chartColor]);\n\n  const renderChart = () => {\n    switch (chartType) {\n      case 'bar':\n        return <Bar data={data} options={{}} />;\n      case 'line':\n        return <Line data={data} options={{}} />;\n      case 'pie':\n        return <Pie data={data} options={{}} />;\n      case 'doughnut':\n        return <Doughnut data={data} options={{}} />;\n      case 'polarArea':\n        return <PolarArea data={data} options={{}} />;\n      case 'radar':\n        return <Radar data={data} options={{}} />;\n      case 'scatter':\n        return <Scatter data={data} options={{}} />;\n      case 'bubble':\n        return <Bubble data={data} options={{}} />;\n      default:\n        return <Bar data={data} options={{}} />;\n    }\n  };\n\n  return (\n    <Paper sx={{ p: 3, mb: 3 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        Προεπισκόπηση Γραφήματος\n      </Typography>\n      <Box sx={{ height: 400 }}>\n        <canvas ref={chartRef} />\n      </Box>\n    </Paper>\n  );\n}\n\nexport default ChartDisplay; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}