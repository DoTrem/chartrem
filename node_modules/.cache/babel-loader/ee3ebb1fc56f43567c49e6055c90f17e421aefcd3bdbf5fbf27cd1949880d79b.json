{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Box,Paper}from'@mui/material';import{Chart as ChartJS,registerables}from'chart.js';import'chartjs-adapter-date-fns';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(...registerables);function ChartDisplay(_ref){let{data,chartType,chartTitle,xAxisLabel,yAxisLabel,chartColor}=_ref;const chartRef=useRef(null);const chartInstance=useRef(null);useEffect(()=>{if(chartRef.current&&data.length>0){if(chartInstance.current){chartInstance.current.destroy();}const ctx=chartRef.current.getContext('2d');const chartData={labels:data.map(item=>item.x),datasets:[{label:yAxisLabel,data:data.map(item=>item.y),backgroundColor:chartColor,borderColor:chartColor,borderWidth:1}]};const options={responsive:true,maintainAspectRatio:false,plugins:{title:{display:true,text:chartTitle}},scales:{x:{title:{display:true,text:xAxisLabel},type:xAxisLabel==='Ημερομηνία'?'time':'category',time:{unit:'day'}},y:{title:{display:true,text:yAxisLabel},beginAtZero:true}}};chartInstance.current=new ChartJS(ctx,{type:chartType,data:chartData,options:options});}return()=>{if(chartInstance.current){chartInstance.current.destroy();}};},[data,chartType,chartTitle,xAxisLabel,yAxisLabel,chartColor]);return/*#__PURE__*/_jsx(Paper,{sx:{p:3,mt:3},children:/*#__PURE__*/_jsx(Box,{sx:{height:400},children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef})})});}export default ChartDisplay;","map":{"version":3,"names":["React","useEffect","useRef","Box","Paper","Chart","ChartJS","registerables","jsx","_jsx","register","ChartDisplay","_ref","data","chartType","chartTitle","xAxisLabel","yAxisLabel","chartColor","chartRef","chartInstance","current","length","destroy","ctx","getContext","chartData","labels","map","item","x","datasets","label","y","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","plugins","title","display","text","scales","type","time","unit","beginAtZero","sx","p","mt","children","height","ref"],"sources":["/Users/dotrem/data-configurator/chartrem/src/components/ChartDisplay.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Box, Paper } from '@mui/material';\nimport { Chart as ChartJS, registerables } from 'chart.js';\nimport 'chartjs-adapter-date-fns';\n\nChartJS.register(...registerables);\n\nfunction ChartDisplay({ data, chartType, chartTitle, xAxisLabel, yAxisLabel, chartColor }) {\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n\n  useEffect(() => {\n    if (chartRef.current && data.length > 0) {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n\n      const ctx = chartRef.current.getContext('2d');\n      \n      const chartData = {\n        labels: data.map(item => item.x),\n        datasets: [{\n          label: yAxisLabel,\n          data: data.map(item => item.y),\n          backgroundColor: chartColor,\n          borderColor: chartColor,\n          borderWidth: 1\n        }]\n      };\n\n      const options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          title: {\n            display: true,\n            text: chartTitle\n          }\n        },\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: xAxisLabel\n            },\n            type: xAxisLabel === 'Ημερομηνία' ? 'time' : 'category',\n            time: {\n              unit: 'day'\n            }\n          },\n          y: {\n            title: {\n              display: true,\n              text: yAxisLabel\n            },\n            beginAtZero: true\n          }\n        }\n      };\n\n      chartInstance.current = new ChartJS(ctx, {\n        type: chartType,\n        data: chartData,\n        options: options\n      });\n    }\n\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data, chartType, chartTitle, xAxisLabel, yAxisLabel, chartColor]);\n\n  return (\n    <Paper sx={{ p: 3, mt: 3 }}>\n      <Box sx={{ height: 400 }}>\n        <canvas ref={chartRef} />\n      </Box>\n    </Paper>\n  );\n}\n\nexport default ChartDisplay; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}